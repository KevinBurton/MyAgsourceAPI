var cssomPrefixes='Webkit Moz O ms Khtml'.split(' '),prefixes=' -webkit- -moz- -o- -ms- -khtml- '.split(' '),ns={'svg':'http://www.w3.org/2000/svg'};var mod='modernizr',modElem=document.createElement(mod),mStyle=modElem.style;function testPropsAll(prop,prefixed){var ucProp=prop.charAt(0).toUpperCase()+prop.substr(1),props=(prop+' '+cssomPrefixes.join(ucProp+' ')+ucProp).split(' ');return testProps(props,prefixed)}function testProps(props,prefixed){for(var i in props){if(mStyle[props[i]]!==undefined){return prefixed=='pfx'?props[i]:true}}return false}function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+';')+(str2||''))}function contains(str,substr){return!!~(''+str).indexOf(substr)}head.feature('flexbox-legacy',function(){return testPropsAll('boxDirection')});head.feature('flexbox',function(){return testPropsAll('flexOrder')});head.feature('canvas',function(){var elem=document.createElement('canvas');return!!(elem.getContext&&elem.getContext('2d'))});head.feature('canvastext',function(){var elem=document.createElement('canvas');if(!!(elem.getContext&&elem.getContext('2d'))){return!!typeof(elem.getContext('2d').fillText)==='function'}else return false});head.feature('webgl',function(){try{var canvas=document.createElement('canvas'),ret;ret=!!(window.WebGLRenderingContext&&(canvas.getContext('experimental-webgl')||canvas.getContext('webgl')));canvas=undefined}catch(e){ret=false}return ret});head.feature('geolocation',function(){return!!navigator.geolocation});head.feature('postmessage',function(){return!!window.postMessage});head.feature('websqldatabase',function(){return!!window.openDatabase});head.feature('indexedDB',function(){for(var i=-1,len=cssomPrefixes.length;++i<len;){if(window[cssomPrefixes[i].toLowerCase()+'IndexedDB']){return true}}return!!window.indexedDB});head.feature('history',function(){return!!(window.history&&history.pushState)});head.feature('draganddrop',function(){var div=document.createElement('div');return('draggable'in div)||('ondragstart'in div&&'ondrop'in div)});head.feature('websockets',function(){for(var i=-1,len=cssomPrefixes.length;++i<len;){if(window[cssomPrefixes[i]+'WebSocket']){return true}}return'WebSocket'in window});head.feature('hsla',function(){setCss('background-color:hsla(120,40%,100%,.5)');return contains(mStyle.backgroundColor,'rgba')||contains(mStyle.backgroundColor,'hsla')});head.feature('backgroundsize',function(){return testPropsAll('backgroundSize')});head.feature('opacity',function(){setCssAll('opacity:.55');return/^0.55$/.test(mStyle.opacity)});head.feature('cssanimations',function(){return testPropsAll('animationName')});head.feature('csscolumns',function(){return testPropsAll('columnCount')});head.feature('cssgradients',function(){var str1='background-image:',str2='gradient(linear,left top,right bottom,from(#9f9),to(white));',str3='linear-gradient(left top,#9f9, white);';setCss((str1+'-webkit- '.split(' ').join(str2+str1)+prefixes.join(str3+str1)).slice(0,-str1.length));return contains(mStyle.backgroundImage,'gradient')});head.feature('video',function(){var elem=document.createElement('video'),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,'');bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,'');bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,'')}}catch(e){}return bool});head.feature('audio',function(){var elem=document.createElement('audio'),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,'');bool.mp3=elem.canPlayType('audio/mpeg;').replace(/^no$/,'');bool.wav=elem.canPlayType('audio/wav; codecs="1"').replace(/^no$/,'');bool.m4a=(elem.canPlayType('audio/x-m4a;')||elem.canPlayType('audio/aac;')).replace(/^no$/,'')}}catch(e){}return bool});head.feature('localstorage',function(){try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true}catch(e){return false}});head.feature('sessionstorage',function(){try{sessionStorage.setItem(mod,mod);sessionStorage.removeItem(mod);return true}catch(e){return false}});head.feature('webworkers',function(){return!!window.Worker});head.feature('applicationcache',function(){return!!window.applicationCache});head.feature('svg',function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,'svg').createSVGRect});head.feature('inlinesvg',function(){var div=document.createElement('div');div.innerHTML='<svg/>';return(div.firstChild&&div.firstChild.namespaceURI)==ns.svg});